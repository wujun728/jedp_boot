<?xml version="1.0" encoding="UTF-8"?>
<!-- origin at X=0.0 Y=0.0 -->
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmn20="http://www.omg.org/bpmn20" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" xmlns="http://www.jboss.org/drools" xmlns:java="http://www.java.com/javaTypes" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd" id="_-lAwEFQxEei0Y-u2tJYqaQ" exporter="org.eclipse.bpmn2.modeler.core" exporterVersion="1.4.2.Final-v20171109-1930-B1" expressionLanguage="http://www.mvel.org/2.0" targetNamespace="http://www.omg.org/bpmn20" typeLanguage="http://www.java.com/javaTypes">
  <bpmn2:itemDefinition id="_assigneeListItem" isCollection="false" structureRef="java.util.List"/>
  <bpmn2:itemDefinition id="_resultsItem" isCollection="false" structureRef="java.util.List"/>
  <bpmn2:itemDefinition id="_UserTask_1_TaskNameInputXItem" isCollection="false" structureRef="String"/>
  <bpmn2:itemDefinition id="_UserTask_1_PriorityInputXItem" isCollection="false" structureRef="java.lang.Integer"/>
  <bpmn2:itemDefinition id="_UserTask_1_SkippableInputXItem" isCollection="false" structureRef="java.lang.Boolean"/>
  <bpmn2:itemDefinition id="_UserTask_1_LocaleInputXItem" isCollection="false" structureRef="java.lang.String"/>
  <bpmn2:itemDefinition id="_UserTask_1_assigneeListInputXItem" isCollection="false" structureRef="java.util.List"/>
  <bpmn2:itemDefinition id="_UserTask_1_ActorIdInputXItem" isCollection="false" structureRef="java.util.List"/>
  <bpmn2:itemDefinition id="_UserTask_1_CommentInputXItem" isCollection="false" structureRef="Object"/>
  <bpmn2:itemDefinition id="_UserTask_1_resultsOutputXItem" isCollection="false" structureRef="java.util.List"/>
  <bpmn2:itemDefinition id="_UserTask_1_decisionOutputXItem" isCollection="false" structureRef="java.lang.Boolean"/>
  <bpmn2:itemDefinition id="ItemDefinition_1" isCollection="false"/>
  <bpmn2:itemDefinition id="ItemDefinition_2" isCollection="false"/>
  <bpmn2:itemDefinition id="ItemDefinition_3" isCollection="false"/>
  <bpmn2:itemDefinition id="ItemDefinition_4" isCollection="false"/>
  <bpmn2:process id="com.icss.regie.workflow.demo.multiple.multiple-instance" drools:packageName="com.icss.regie.workflow.demo.multiple" drools:version="1.0" name="multiple-instance" isExecutable="true">
    <bpmn2:extensionElements>
      <drools:import name="java.util.List"/>
    </bpmn2:extensionElements>
    <bpmn2:property id="assigneeList" itemSubjectRef="_assigneeListItem" name="assigneeList"/>
    <bpmn2:property id="results" itemSubjectRef="_resultsItem" name="results"/>
    <bpmn2:startEvent id="processStartEvent" drools:selectable="true" color:background-color="#9acd32" color:border-color="#000000" color:color="#000000" name="">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:outgoing>SequenceFlow_1</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:userTask id="UserTask_1" drools:selectable="true" drools:mitask="assigneeList@results@ActorId@decision@ " drools:scriptFormat="http://www.java.com/java" color:background-color="#fafad2" color:border-color="#000000" color:color="#000000" name="User Task 1">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[User Task 1]]></drools:metaValue>
        </drools:metaData>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script>System.out.println(&quot;miDataInputX:&quot;+kcontext.getVariable(&quot;miDataInputX&quot;));
System.out.println(&quot;decision:&quot;+kcontext.getVariable(&quot;decision&quot;));

</drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_1</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>
      <bpmn2:ioSpecification id="_-lBXIFQxEei0Y-u2tJYqaQ">
        <bpmn2:dataInput id="UserTask_1_TaskNameInputX" drools:dtype="String" itemSubjectRef="_UserTask_1_TaskNameInputXItem" name="TaskName"/>
        <bpmn2:dataInput id="UserTask_1_PriorityInputX" drools:dtype="java.lang.Integer" itemSubjectRef="_UserTask_1_PriorityInputXItem" name="Priority"/>
        <bpmn2:dataInput id="UserTask_1_SkippableInputX" drools:dtype="java.lang.Boolean" itemSubjectRef="_UserTask_1_SkippableInputXItem" name="Skippable"/>
        <bpmn2:dataInput id="UserTask_1_LocaleInputX" drools:dtype="java.lang.String" itemSubjectRef="_UserTask_1_LocaleInputXItem" name="Locale"/>
        <bpmn2:dataInput id="UserTask_1_ActorIdInputX" drools:dtype="java.util.List" itemSubjectRef="_UserTask_1_ActorIdInputXItem" name="ActorId"/>
        <bpmn2:dataInput id="UserTask_1_CommentInputX" drools:dtype="Object" itemSubjectRef="_UserTask_1_CommentInputXItem" name="Comment"/>
        <bpmn2:dataInput id="_-lBXIlQxEei0Y-u2tJYqaQ" itemSubjectRef="_assigneeListItem" name="miinputCollection"/>
        <bpmn2:dataOutput id="UserTask_1_decisionOutputX" drools:dtype="java.lang.Boolean" itemSubjectRef="_UserTask_1_decisionOutputXItem" name="decision"/>
        <bpmn2:dataOutput id="_-lBXJFQxEei0Y-u2tJYqaQ" itemSubjectRef="_resultsItem" name="mioutputCollection"/>
        <bpmn2:inputSet id="_-lBXIVQxEei0Y-u2tJYqaQ">
          <bpmn2:dataInputRefs>UserTask_1_PriorityInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>UserTask_1_SkippableInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>UserTask_1_LocaleInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>UserTask_1_ActorIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>UserTask_1_CommentInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>UserTask_1_TaskNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_-lBXIlQxEei0Y-u2tJYqaQ</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="_-lBXI1QxEei0Y-u2tJYqaQ">
          <bpmn2:dataOutputRefs>UserTask_1_decisionOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_-lBXJFQxEei0Y-u2tJYqaQ</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="_-lBXJVQxEei0Y-u2tJYqaQ">
        <bpmn2:targetRef>UserTask_1_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_-lBXJlQxEei0Y-u2tJYqaQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_-lBXJ1QxEei0Y-u2tJYqaQ"><![CDATA[TaskName]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_-lBXKFQxEei0Y-u2tJYqaQ">UserTask_1_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_-lBXKVQxEei0Y-u2tJYqaQ">
        <bpmn2:targetRef>UserTask_1_SkippableInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_-lBXKlQxEei0Y-u2tJYqaQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_-lBXK1QxEei0Y-u2tJYqaQ">true</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_-lBXLFQxEei0Y-u2tJYqaQ">UserTask_1_SkippableInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_-lBXLVQxEei0Y-u2tJYqaQ">
        <bpmn2:targetRef>UserTask_1_CommentInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_-lBXLlQxEei0Y-u2tJYqaQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_-lBXL1QxEei0Y-u2tJYqaQ"><![CDATA[#{ActorId}]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_-lBXMFQxEei0Y-u2tJYqaQ">UserTask_1_CommentInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_-lBXMVQxEei0Y-u2tJYqaQ">
        <bpmn2:targetRef>UserTask_1_PriorityInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_-lBXMlQxEei0Y-u2tJYqaQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_-lBXM1QxEei0Y-u2tJYqaQ">1</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_-lBXNFQxEei0Y-u2tJYqaQ">UserTask_1_PriorityInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_-lBXNVQxEei0Y-u2tJYqaQ">
        <bpmn2:targetRef>UserTask_1_LocaleInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_-lBXNlQxEei0Y-u2tJYqaQ">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_-lBXN1QxEei0Y-u2tJYqaQ">en-UK</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_-lBXOFQxEei0Y-u2tJYqaQ">UserTask_1_LocaleInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_-lBXOVQxEei0Y-u2tJYqaQ">
        <bpmn2:sourceRef>assigneeList</bpmn2:sourceRef>
        <bpmn2:targetRef>_-lBXIlQxEei0Y-u2tJYqaQ</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_-lBXOlQxEei0Y-u2tJYqaQ">
        <bpmn2:sourceRef>miDataInputX</bpmn2:sourceRef>
        <bpmn2:targetRef>UserTask_1_ActorIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="_-lBXO1QxEei0Y-u2tJYqaQ">
        <bpmn2:sourceRef>_-lBXJFQxEei0Y-u2tJYqaQ</bpmn2:sourceRef>
        <bpmn2:targetRef>results</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation id="_-lBXPFQxEei0Y-u2tJYqaQ">
        <bpmn2:sourceRef>UserTask_1_decisionOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>miDataOutputX</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:multiInstanceLoopCharacteristics id="_-lBXPVQxEei0Y-u2tJYqaQ">
        <bpmn2:loopDataInputRef>_-lBXIlQxEei0Y-u2tJYqaQ</bpmn2:loopDataInputRef>
        <bpmn2:loopDataOutputRef>_-lBXJFQxEei0Y-u2tJYqaQ</bpmn2:loopDataOutputRef>
        <bpmn2:inputDataItem xsi:type="bpmn2:tDataInput" id="miDataInputX" itemSubjectRef="_UserTask_1_ActorIdInputXItem" name="miDataInputX"/>
        <bpmn2:outputDataItem xsi:type="bpmn2:tDataOutput" id="miDataOutputX" itemSubjectRef="_UserTask_1_decisionOutputXItem" name="miDataOutputX"/>
      	<bpmn2:completionCondition xsi:type="bpmn2:tFormalExpression" id="_dI-7eVTEEeiw2cjjtpGf7Q">def hello() { System.out.println("Hello!"); }; hell();</bpmn2:completionCondition>
      </bpmn2:multiInstanceLoopCharacteristics>
    </bpmn2:userTask>
    <bpmn2:sequenceFlow id="SequenceFlow_1" drools:selectable="true" drools:priority="1" color:background-color="#000000" color:border-color="#000000" color:color="#000000" sourceRef="processStartEvent" targetRef="UserTask_1"/>
    <bpmn2:scriptTask id="ScriptTask_1" name="Script Task 1" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Script Task 1]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_4</bpmn2:outgoing>
      <bpmn2:script>System.out.println(&quot;results:&quot;+results);</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_3" drools:priority="1" sourceRef="UserTask_1" targetRef="ScriptTask_1"/>
    <bpmn2:endEvent id="EndEvent_2" name="End Event 2">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[End Event 2]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_4</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_4" drools:priority="1" sourceRef="ScriptTask_1" targetRef="EndEvent_2"/>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="_-lBXPlQxEei0Y-u2tJYqaQ">
    <bpmndi:BPMNPlane id="_-lBXP1QxEei0Y-u2tJYqaQ" bpmnElement="com.icss.regie.workflow.demo.multiple.multiple-instance">
      <bpmndi:BPMNShape id="_-lBXQFQxEei0Y-u2tJYqaQ" bpmnElement="processStartEvent">
        <dc:Bounds height="30.0" width="30.0" x="120.0" y="165.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_1"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_-lBXQVQxEei0Y-u2tJYqaQ" bpmnElement="UserTask_1">
        <dc:Bounds height="50.0" width="110.0" x="255.0" y="150.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_2">
          <dc:Bounds height="17.0" width="79.0" x="270.0" y="166.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ScriptTask_1" bpmnElement="ScriptTask_1" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="470.0" y="150.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_3">
          <dc:Bounds height="17.0" width="86.0" x="482.0" y="166.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_1" bpmnElement="EndEvent_2">
        <dc:Bounds height="36.0" width="36.0" x="648.0" y="157.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_4">
          <dc:Bounds height="17.0" width="79.0" x="627.0" y="193.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_-lBXQ1QxEei0Y-u2tJYqaQ" bpmnElement="SequenceFlow_1" sourceElement="_-lBXQFQxEei0Y-u2tJYqaQ" targetElement="_-lBXQVQxEei0Y-u2tJYqaQ">
        <di:waypoint xsi:type="dc:Point" x="135.0" y="180.0"/>
        <di:waypoint xsi:type="dc:Point" x="310.0" y="175.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_4"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_1" bpmnElement="SequenceFlow_3" sourceElement="_-lBXQVQxEei0Y-u2tJYqaQ" targetElement="BPMNShape_ScriptTask_1">
        <di:waypoint xsi:type="dc:Point" x="365.0" y="175.0"/>
        <di:waypoint xsi:type="dc:Point" x="417.0" y="175.0"/>
        <di:waypoint xsi:type="dc:Point" x="470.0" y="175.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_2" bpmnElement="SequenceFlow_4" sourceElement="BPMNShape_ScriptTask_1" targetElement="BPMNShape_EndEvent_1">
        <di:waypoint xsi:type="dc:Point" x="580.0" y="175.0"/>
        <di:waypoint xsi:type="dc:Point" x="614.0" y="175.0"/>
        <di:waypoint xsi:type="dc:Point" x="648.0" y="175.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_6"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>